{"version":3,"sources":["webpack:///webpack/bootstrap 5ad1ae6ae048f4829163","webpack:///./public/javascripts/modules/deletePage.js","webpack:///./public/javascripts/modules/deleteUser.js","webpack:///./public/javascripts/modules/handleContentSections.js","webpack:///./public/sass/style.scss?9bfe","webpack:///./public/javascripts/seamus-app.js","webpack:///./views/includes/_contentSectionForm.pug"],"names":["deletePage","confirmed","window","confirm","id","dataset","request","Request","method","credentials","fetch","then","res","ok","json","Error","status","location","assign","catch","err","console","error","deleteUser","parentNode","remove","log","firstname","_id","alert","markup","require","addContentSection","fragment","document","createDocumentFragment","section","createElement","appendChild","innerHTML","form","insertBefore","removeContentSection","title","addSectionBtn","querySelector","removeSectionBtns","querySelectorAll","addEventListener","length","forEach","btn","deleteUserBtns","deletePageBtns"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5ad1ae6ae048f4829163","function deletePage() {\n    const confirmed = window.confirm('This action will permanently delete this page and all its content.\\n\\nDo you wish to proceed?');\n    if (confirmed) {\n        const id = this.dataset.id;\n        const request = new Request(`/delete/page/${id}`, { method: 'DELETE', credentials: 'same-origin' });\n        fetch(request)\n            .then(\n                (res) => {\n                    if (res.ok) {\n                        return res.json(); \n                    }\n                    else throw new Error (`Delete page failed\\nRESPONSE STATUS: ${res.status}`);\n                })\n            .then(\n                (json) => {\n                    location.assign('/');\n                })\n            .catch(\n                (err) => console.error(err)\n            );\n    }\n}\n\nexport default deletePage;\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/deletePage.js","function deleteUser() {\n    const confirmed = window.confirm('This action will permanently delete all the saved data for this user.\\n\\nDo you wish to proceed?');\n    if (confirmed) {\n        const id = this.dataset.id;\n        const request = new Request(`/delete/user/${id}`, { method: 'DELETE', credentials: 'same-origin' });\n        fetch(request)\n            .then(\n                (res) => {\n                    if (res.ok) { \n                        this.parentNode.remove();\n                        return res.json(); \n                    }\n                    else throw new Error (`Delete user failed\\nRESPONSE STATUS: ${res.status}`);\n                })\n            .then(\n                (json) => console.log(`deleted user ${json.firstname} ${json.firstname}: ${json._id}`)\n            )\n            .catch(\n                (err) => alert(err)\n            );\n    }\n}\n\nexport default deleteUser;\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/deleteUser.js","const markup = require('../../../views/includes/_contentSectionForm.pug');\n\nfunction addContentSection() {\n    const fragment = document.createDocumentFragment();\n    const section = document.createElement('section');\n    fragment.appendChild(section);\n    section.innerHTML = markup;\n    const form = this.parentNode;\n    form.insertBefore(section, this);\n}\n\nfunction removeContentSection() {\n    const confirmed = window.confirm('This action will permanently delete all the saved data for this content section.\\n\\nAre you sure you wish to delete this content section?');\n    if (confirmed) {\n        const id = this.dataset.id;\n        const request = new Request(`/delete/content/${id}`, { method: 'DELETE', credentials: 'same-origin' });\n        fetch(request)\n            .then(\n                (res) => {\n                    if (res.ok) { \n                        this.parentNode.remove();\n                        return res.json(); \n                    }\n                    else throw new Error (`Delete failed\\nRESPONSE STATUS: ${res.status}`);\n                })\n            .then(\n                (json) => console.log(`deleted section ${json.title}`)\n            )\n            .catch(\n                (err) => alert(err)\n            );\n    }\n}\n\n\nexport { addContentSection, removeContentSection };\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/handleContentSections.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/sass/style.scss\n// module id = 3\n// module chunks = 0","// IMPORT SASS FILES\nimport '../sass/style.scss';\n\n// JS TO ADD/DELETE NEW FORM SECTIONS TO/FROM PAGE BUILDER FORM\nimport { addContentSection, removeContentSection } from './modules/handleContentSections';\nconst addSectionBtn = document.querySelector('#addSectionBtn');\nconst removeSectionBtns = document.querySelectorAll('.removeSectionBtn');\nif (addSectionBtn) addSectionBtn.addEventListener('click', addContentSection);\nif (removeSectionBtns.length) {\n    removeSectionBtns.forEach( (btn) => {\n        btn.addEventListener('click', removeContentSection );\n    } );\n}\n\n// DELETE A USER\nimport deleteUser from './modules/deleteUser';\nconst deleteUserBtns = document.querySelectorAll('.deleteUserBtn');\nif (deleteUserBtns.length) {\n    deleteUserBtns.forEach( (btn) => {\n        btn.addEventListener('click', deleteUser );\n    } );\n}\n\n// DELETE A PAGE AND ASSOCIATED CONTENT (EXCEPT UPLOADED IMGS)\nimport deletePage from './modules/deletePage';\nconst deletePageBtns = document.querySelectorAll('.deletePageBtn');\nif (deletePageBtns.length) {\n    deletePageBtns.forEach( (btn) => {\n        btn.addEventListener('click', deletePage );\n    } );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/seamus-app.js","module.exports = \"<!-- add empty page object for when this snippet is compiled by webpack--><div class=\\\"content-section\\\"><hr/><button type=\\\"button\\\" onClick=\\\"this.parentElement.remove()\\\">&times;</button><p><strong>New Section</strong></p><input type=\\\"hidden\\\" name=\\\"_id\\\"/><label for=\\\"title\\\">Title for content section<span class=\\\"--required\\\">(req)</span></label><input type=\\\"text\\\" name=\\\"title\\\" placeholder=\\\"Untitled section\\\" required=\\\"required\\\"/><label for=\\\"index\\\">index</label><p>This will be used to order the content sections on the page</p><p><strong>Indexes must be unique. </strong>If no index is provided the sections will be arranged in order of their creation</p><input type=\\\"number\\\" name=\\\"index\\\" placeholder=\\\"0\\\"/><label for=\\\"css_selector\\\">CSS selector that associated with content</label><input type=\\\"text\\\" name=\\\"css_selector\\\" placeholder=\\\"#id\\\"/><label for=\\\"type\\\">What type of content will this section manage?</label><select required=\\\"required\\\" name=\\\"type\\\"><option disabled=\\\"disabled\\\" selected=\\\"selected\\\" value=\\\"\\\">Choose content type</option><option value=\\\"heading\\\">Heading</option><option value=\\\"text\\\">Text</option><option value=\\\"image\\\">Image</option></select><fieldset><legend>Rules</legend><p>Seamus currently does no policing of any content rules. Rules are displayed as a guideline for users to adhere to.</p><label for=\\\"rule\\\">Rules</label><textarea name=\\\"rule\\\"></textarea><label for=\\\"max_value\\\">Max value</label><input type=\\\"number\\\" name=\\\"max_value\\\" value=\\\"\\\"/><label for=\\\"min_value\\\">Min value</label><input type=\\\"number\\\" name=\\\"min_value\\\" value=\\\"\\\"/><label for=\\\"max_unit\\\">Unit for max value</label><input type=\\\"text\\\" name=\\\"max_unit\\\" value=\\\"\\\"/><label for=\\\"min_unit\\\">Unit for min value</label><input type=\\\"text\\\" name=\\\"min_unit\\\" value=\\\"\\\"/><label for=\\\"max_apply_to\\\">Max value applies to (e.g. height)</label><input type=\\\"text\\\" name=\\\"max_apply_to\\\" value=\\\"\\\"/><label for=\\\"min_apply_to\\\">Min value applies to (e.g. height)</label><input type=\\\"text\\\" name=\\\"min_apply_to\\\" value=\\\"\\\"/></fieldset></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./views/includes/_contentSectionForm.pug\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}